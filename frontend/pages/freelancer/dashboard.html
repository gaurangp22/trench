<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Freelancer Dashboard - TrenchJobs</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/pages/dashboard.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container navbar-container">
            <a href="/" class="navbar-brand">
                <span class="brand-trench">Trench</span><span class="brand-jobs">Jobs</span>
            </a>
            <div class="navbar-menu">
                <a href="/pages/freelancer/jobs.html" class="nav-link">Find Work</a>
                <a href="/pages/freelancer/proposals.html" class="nav-link">My Proposals</a>
                <a href="/pages/freelancer/contracts.html" class="nav-link">Contracts</a>
                <a href="/pages/shared/messages.html" class="nav-link">Messages</a>
            </div>
            <div class="navbar-actions">
                <div class="wallet-status" id="wallet-status">
                    <span class="wallet-icon">&#9679;</span>
                    <span class="wallet-address" id="wallet-address">Not Connected</span>
                </div>
                <div class="dropdown">
                    <button class="btn btn-ghost dropdown-toggle" id="user-menu-btn">
                        <span class="user-avatar" id="user-avatar">U</span>
                    </button>
                    <div class="dropdown-menu" id="user-dropdown">
                        <a href="/pages/freelancer/profile.html" class="dropdown-item">My Profile</a>
                        <a href="/pages/shared/wallet.html" class="dropdown-item">Wallet</a>
                        <a href="/pages/shared/settings.html" class="dropdown-item">Settings</a>
                        <hr class="dropdown-divider">
                        <button class="dropdown-item text-danger" id="logout-btn">Sign Out</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <div class="welcome-section">
                    <h1>Welcome back, <span id="user-name">Freelancer</span>!</h1>
                    <p class="text-muted">Here's an overview of your freelance activity</p>
                </div>
                <div class="header-actions">
                    <a href="/pages/freelancer/jobs.html" class="btn btn-primary">
                        Find New Work
                    </a>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon earnings-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v12M8 10l4-4 4 4M8 14l4 4 4-4"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="total-earnings">0 SOL</span>
                        <span class="stat-label">Total Earnings</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon pending-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 8v4l3 3"/>
                            <circle cx="12" cy="12" r="10"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="pending-payments">0 SOL</span>
                        <span class="stat-label">Pending Payments</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon contracts-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                            <path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="active-contracts">0</span>
                        <span class="stat-label">Active Contracts</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon rating-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12,2 15,9 22,9 17,14 19,21 12,17 5,21 7,14 2,9 9,9"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value" id="avg-rating">--</span>
                        <span class="stat-label">Average Rating</span>
                    </div>
                </div>
            </div>

            <!-- Main Dashboard Content -->
            <div class="dashboard-grid">
                <!-- Active Contracts -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h2>Active Contracts</h2>
                        <a href="/pages/freelancer/contracts.html" class="btn btn-sm btn-ghost">View All</a>
                    </div>
                    <div class="card-body" id="active-contracts-list">
                        <div class="empty-state">
                            <p>No active contracts</p>
                            <a href="/pages/freelancer/jobs.html" class="btn btn-outline">Browse Jobs</a>
                        </div>
                    </div>
                </div>

                <!-- Pending Proposals -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h2>Pending Proposals</h2>
                        <a href="/pages/freelancer/proposals.html" class="btn btn-sm btn-ghost">View All</a>
                    </div>
                    <div class="card-body" id="pending-proposals-list">
                        <div class="empty-state">
                            <p>No pending proposals</p>
                            <a href="/pages/freelancer/jobs.html" class="btn btn-outline">Find Jobs</a>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="dashboard-card full-width">
                    <div class="card-header">
                        <h2>Recent Activity</h2>
                    </div>
                    <div class="card-body" id="recent-activity">
                        <div class="empty-state">
                            <p>No recent activity</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 TrenchJobs. All rights reserved.</p>
        </div>
    </footer>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="../../js/config.js"></script>
    <script src="../../js/utils/storage.js"></script>
    <script src="../../js/utils/dom.js"></script>
    <script src="../../js/api/client.js"></script>
    <script src="../../js/solana/wallet.js"></script>
    <script src="../../js/components/toast.js"></script>
    <script src="../../js/pages/freelancer/dashboard.js"></script>
</body>
</html>
