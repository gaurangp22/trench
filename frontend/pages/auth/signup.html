<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - TrenchJobs</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/pages/auth.css">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <a href="/" class="logo">
                    <span class="logo-icon">‚ö°</span>
                    <span class="logo-text">TrenchJobs</span>
                </a>
                <h1>Create Account</h1>
                <p>Join the future of freelancing on Solana</p>
            </div>

            <form id="signup-form" class="auth-form">
                <!-- Step 1: Role Selection -->
                <div class="form-step active" data-step="1">
                    <h3>I want to...</h3>
                    <div class="role-options">
                        <label class="role-option">
                            <input type="checkbox" name="is_freelancer" value="true">
                            <div class="role-card">
                                <span class="role-icon">üíº</span>
                                <span class="role-title">Work as a Freelancer</span>
                                <span class="role-desc">Find jobs and get paid in SOL</span>
                            </div>
                        </label>
                        <label class="role-option">
                            <input type="checkbox" name="is_client" value="true">
                            <div class="role-card">
                                <span class="role-icon">üè¢</span>
                                <span class="role-title">Hire Talent</span>
                                <span class="role-desc">Post jobs and find freelancers</span>
                            </div>
                        </label>
                    </div>
                    <p class="form-hint">You can select both options</p>
                    <button type="button" class="btn btn-primary btn-lg btn-block" onclick="SignupPage.nextStep()">
                        Continue
                    </button>
                </div>

                <!-- Step 2: Account Info -->
                <div class="form-step" data-step="2">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" class="form-input" placeholder="you@example.com" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Username</label>
                        <input type="text" name="username" class="form-input" placeholder="johndoe" required>
                        <p class="form-hint">3-50 characters, letters, numbers, underscores</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" name="password" class="form-input" placeholder="Min 8 characters" required>
                        <p class="form-hint">Include uppercase, lowercase, and numbers</p>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="SignupPage.prevStep()">Back</button>
                        <button type="button" class="btn btn-primary" onclick="SignupPage.nextStep()">Continue</button>
                    </div>
                </div>

                <!-- Step 3: Connect Wallet -->
                <div class="form-step" data-step="3">
                    <h3>Connect Your Wallet</h3>
                    <p class="text-secondary">Link a Solana wallet to receive payments</p>

                    <div id="wallet-connect-section">
                        <div class="wallet-options">
                            <button type="button" class="wallet-option" data-wallet="phantom" onclick="SignupPage.connectWallet('phantom')">
                                <img src="../../assets/icons/phantom.svg" alt="Phantom" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëª</text></svg>'">
                                <span>Phantom</span>
                            </button>
                            <button type="button" class="wallet-option" data-wallet="solflare" onclick="SignupPage.connectWallet('solflare')">
                                <img src="../../assets/icons/solflare.svg" alt="Solflare" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîÜ</text></svg>'">
                                <span>Solflare</span>
                            </button>
                        </div>

                        <input type="hidden" name="wallet_address" id="wallet-address-input">
                    </div>

                    <div id="wallet-connected-section" class="hidden">
                        <div class="wallet-connected">
                            <span class="wallet-icon">‚úì</span>
                            <div class="wallet-info">
                                <span class="wallet-label">Wallet Connected</span>
                                <span class="wallet-address" id="connected-wallet-address"></span>
                            </div>
                            <button type="button" class="btn btn-sm btn-outline" onclick="SignupPage.disconnectWallet()">
                                Change
                            </button>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="SignupPage.prevStep()">Back</button>
                        <button type="submit" class="btn btn-primary" id="signup-submit-btn">
                            Create Account
                        </button>
                    </div>

                    <p class="form-hint">
                        <a href="#" onclick="SignupPage.skipWallet(); return false;">Skip for now</a>
                        - you can connect a wallet later
                    </p>
                </div>
            </form>

            <div class="auth-footer">
                <p>Already have an account? <a href="login.html">Log in</a></p>
            </div>
        </div>

        <div class="auth-visual">
            <div class="auth-visual-content">
                <div class="feature">
                    <span class="feature-icon">üîê</span>
                    <h4>Trustless Escrow</h4>
                    <p>Your funds are secured on-chain</p>
                </div>
                <div class="feature">
                    <span class="feature-icon">‚ö°</span>
                    <h4>Instant Payments</h4>
                    <p>Get paid in SOL, instantly</p>
                </div>
                <div class="feature">
                    <span class="feature-icon">üåç</span>
                    <h4>Global Access</h4>
                    <p>Work from anywhere</p>
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/config.js"></script>
    <script src="../../js/utils/dom.js"></script>
    <script src="../../js/utils/storage.js"></script>
    <script src="../../js/api/client.js"></script>
    <script src="../../js/solana/wallet.js"></script>
    <script src="../../js/components/toast.js"></script>
    <script src="../../js/pages/auth/signup.js"></script>
</body>
</html>
